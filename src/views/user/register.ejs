<!DOCTYPE html>
<html>
    <head>
        <%- include ("../partials/head.ejs")  %> 
    </head>
    <body>
        <header>
            <%- include ("../partials/header.ejs") %> 
        </header>



        <main class="main-register">
            <div class="caja-register">

    

              <form action="/user/register" method="POST"  class="formulario-completo" enctype="multipart/form-data">
                  
                      <div class="div-campos">
                      <label for="nombre">Nombre</label>
                      <input type="text" name="nombre" id="nombre" class="input-barras"  value="<%= locals.old ? old.nombre : null %>">
                      <i class="fa-solid fa-circle-xmark" id="iconNombre"></i>
                      <small class="is-invalid" id="error-nombre"></small>
                      <% if(locals.errors && errors.nombre) {%> 
                     <div class="text-danger">
                       <%= errors.nombre.msg %> 
                     </div>
                    </div>
                     <% } %> 

                     <div class="div-campos">
                     <label for="apellido">Apellido</label>
                     <input type="text" name="apellido" id="apellido" class="input-barras"  value="<%= locals.old ? old.apellido : null %>">
                     <i class="fa-solid fa-circle-xmark" id="iconApellido"></i>
                      <small class="is-invalid" id="error-apellido"></small>
                     <% if(locals.errors && errors.apellido) {%> 
                    <div class="text-danger">
                      <%= errors.apellido.msg %> 
                    </div>
                  </div>
                    <% } %> 
                 
                    <div class="div-campos">
                    <label for="email">Correo electrónico</label>
                    <input type="email" name="email" id="email"  class="input-barras"     value="<%= locals.old ? old.email : null %>">
                    <i class="fa-solid fa-circle-xmark" id="iconEmail"></i>
                    <small class="is-invalid" id="error-email"></small>
                    <% if(locals.errors && errors.email) {%> 
                   <div class="text-danger">
                     <%= errors.email.msg %> 
                   </div>
                  </div>
                   <% } %> 
                 
                     
                   <div class="div-campos">  
                   <label for="dni">Documento</label>
                     <input type="text" name="dni" id="dni" class="input-barras" value="<%= locals.old ? old.dni : null %>">
                     <i class="fa-solid fa-circle-xmark" id="iconDni"></i>
                     <small class="is-invalid" id="error-dni"></small>
                     <% if(locals.errors && errors.dni) {%> 
                    <div class="text-danger">
                      <%= errors.dni.msg %> 
                    </div>
                  </div>
                    <% } %> 
          
              
  
                    <div class="div-campos"> 
                    <label for="fecha-nacimiento" class="label-nacimiento">Fecha de nacimiento</label>
                    </div>
                 
                    <div class="div-campos">  
                    <label for="domicilio">Domicilio</label>
                      <input type="text" name="domicilio" id="domicilio"  class="input-barras">
                    </div>
              
                    <div class="div-campos">
                    <label class="titulo-avatar" for="avatar">Seleccionar una imagen de perfil</label>
                    <input type="file" name="imagen" class="input-avatar" id="imagen">
                    <i class="fa-solid fa-circle-xmark" id="iconImagen"></i>
                    <small class="is-invalid" id="error-imagen"></small>
                    <% if(locals.errors && errors.imagen) {%>
                      <section class="text-danger">
                        <%= errors.imagen.msg %>
                      </section>
                    </div>
                      <% } %>
                    <div class="div-campos">
                    <label for="password">Contraseña</label>
                    <input type="password" name="password" id="password"  class="input-barras">
                    <i class="fa-solid fa-circle-xmark" id="iconPass"></i>
                    <small class="is-invalid" id="error-password"></small>
                    </div>
                    
                    <div class="div-campos">
                    <label for="password">Confirmar contraseña</label>
                    <input type="password" name="password2" id="password2"  class="input-barras">
                    <i class="fa-solid fa-circle-xmark" id="iconPass2"></i>
                    <small class="is-invalid" id="error-password2"></small>
                    <% if (locals.errors && errors.password2) { %>
                      <div class="text-danger">
                        <%= errors.password2.msg %>
                        <br><br>
                      </div>
                    </div>
                    
                    <% } %>
                    <% if(locals.errors && errors.datos) {%>
                      <section class="text-danger">
                        <%= errors.datos.msg %>
                      </section>
                    
                      <% } %>
                  
                  <div class="botones-register">
                    <button type="submit" class="boton-enviar">Enviar</button>
                  <button type="reset" class="boton-borrar">Borrar</button>
                </div>
       
              </form>
            </div>
          </main>

          <footer class="footer-section">
            <%- include ("../partials/footer.ejs")%>
          </footer>
        
    </body>
    <script src="/js/userValidation/createUser.js"></script>
</html>